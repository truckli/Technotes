%!Mode:: "TeX:UTF-8"
\section{Lua笔记}
判断表为非空：

next函数，而不要采用\verb$t ~= {}$



ngx.location.capture:
Issue a synchronous but still non-blocking Nginx Subrequest.



Nginx's subrequests provide a powerful way to make non-blocking internal requests to other locations configured with disk file directory or any other nginx C modules like ngx_proxy, ngx_fastcgi, ngx_memc, ngx_postgres, ngx_drizzle, and even ngx_lua itself and etc etc etc.

Also note that subrequests just mimic the HTTP interface but there is no extra HTTP/TCP traffic nor IPC involved. Everything works internally, efficiently, on the C level.

Subrequests are completely different from HTTP 301/302 redirection (via ngx.redirect) and internal redirection (via ngx.exec).